---
title: 학습용 데이터셋 설계 결정사항 문서
tags:
  - 프로젝트
created: 2025-06-11 16:02:40
related_project:
  - "[[감정인식 분류모델]]"
category: sub-project
link:
---
# 📊 학습용 데이터셋 설계 결정사항 문서

## 🎯 **핵심 설계 원칙**

### **기본 방향성**

- **2클래스 분류**: Boring(0) vs Fun(1) - 데이터 부족 문제 완화
- **XGBoost 모델**: 고차원에 강하고 피처 중요도 분석 가능
- **StandardScaler 적용**: 피처 중요도 공정 분석을 위해
- **실험 중심 설계**: 여러 설정으로 최적 조합 탐색

---

## 🔧 **주요 설계 결정사항**

### **1. 얼굴 인식 비율 특성 제외**

**결정**: 얼굴 인식 비율을 특성에서 완전 제거

**이유**:

- 데이터량 부족 상황에서 편향 위험
- 얼굴 비율이 특정 라벨에 몰릴 경우 bias 발생 가능
- 순수 감정+오디오+텐션 특성만으로 학습

### **2. 클립 길이 유연화**

**결정**: 최소 12초 ~ 최대 60초

**배경**:

- 원본 영상은 호흡이 길고 컷 편집이 적음
- 기승전결을 담으려면 길어질 수밖에 없음
- 프레임 단위: 구간당 최소 3초(12프레임) ~ 최대 15초(60프레임)

### **3. 구간별 최소 프레임 수**

**결정**: 구간별 최소 8프레임

**이유**:

- 통계적 유의성 확보
- 미달 시 해당 클립 폐기
- 전체 클립 최소 32프레임 보장

---

## 🎭 **특성 설계 핵심 고민들**

### **1. 감정 통계의 음수 처리**

**문제**: Raw logit 값이라 음수 포함, 평균 시 정보 손실 **해결**: 음수값을 0으로 클리핑 후 통계 계산

### **2. 감정 통계 중복성 검토**

**검토 항목**: 평균, 표준편차, 회귀 기울기, 결정계수 R²

**결론**: 중복되지 않음

```python
평균: 전체적인 감정 수준
표준편차: 감정 변동폭 (일정 vs 기복)
회귀 기울기: 시간에 따른 변화 방향성  
결정계수 R²: 변화 패턴의 규칙성
```

### **3. 영상 길이 편향 문제**

**위험한 특성들**:

- 발화 집중도: `max(연속발화) / 구간길이`
- 침묵 집중도: `max(연속침묵) / 구간길이`
- 전환 빈도: `전환횟수 / 구간길이`

**해결**: 길이 독립적 특성으로 대체

- 발화 비율: `발화시간 / 전체시간`
- 연속 발화 비율: `최대연속발화 / 전체발화`
- 연속 침묵 비율: `최대연속침묵 / 전체침묵`

---

## ⚡ **텐션 특성 설계**

### **텐션 최대값의 중요성**

**근거**: 실제 영상 시각화 결과

- 결합텐션의 highlights가 실제 하이라이트와 유의미하게 매칭
- 통계적으로 높은 텐션 구간이 실제 재미있는 구간과 일치

**최종 텐션 특성**: 평균 + 표준편차 + 최대값 (3차원)

- 최소값은 제외 (의미 적음)

---

## 🎵 **VAD 발화 패턴 설계**

### **기존 문제**

- 단순 발화 비율(평균 0.5)로는 호흡 패턴 파악 불가
- "앞에만 말하고 뒤에 쉬는지" vs "전체적으로 호흡하는지" 구분 어려움

### **개선된 설계**

**VAD 전처리**: 0.05초 → 0.25초 다수결 변환 **최종 특성**: 발화 비율 1차원만 사용 (영상 길이 독립적)

---

## 📐 **차원의 저주 vs 데이터량 고려**

### **현실적 제약**

- **데이터량**: 약 100개 클립
- **XGBoost 특성**: 차원의 저주에 상대적으로 강함
- **경험 법칙**: 차원당 5-10배 데이터 권장

### **차원 축소 전략**

- 4구간 분할의 필요성: 시간적 패턴이 재미의 핵심
- 하지만 과도한 차원은 위험
- **실험적 접근**: 여러 설정으로 최적점 탐색

---

## 🎬 **실제 클립 패턴 분석**

### **현실적 클립 구조**

**기존 가정**: "기승전결" 4단계 구조 **실제 패턴**: "잔잔한 대화 → 간간히 재미있는 부분 → 마지막 웃음 터짐"

**3구간의 타당성**:

- 시작부 (세팅)
- 중간부 (전개)
- 마무리 (클라이막스+여운)

---

## ⚙️ **최종 실험 설정 3가지**

### **설정 1: 고차원 (104차원)**

```python
4구간 × 26차원:
├─ 감정: 평균+표준편차 (20차원)
├─ 오디오: 평균+표준편차 (2차원)
├─ 발화: 비율 (1차원)
└─ 텐션: 평균+표준편차+최대값 (3차원)
```

**목적**: 세밀한 시간 분할의 효과 검증

### **설정 2: 중간차원 (78차원)**

```python
3구간 × 26차원: 동일한 특성 구조
```

**목적**: 현실적 클립 패턴에 맞는 최적 균형점 탐색

### **설정 3: 회귀 활용 (92차원)**

```python
2구간 × 46차원:
├─ 감정: 평균+표준편차+회귀+R² (40차원)
├─ 오디오: 평균+표준편차 (2차원)
├─ 발화: 비율 (1차원)
└─ 텐션: 평균+표준편차+최대값 (3차원)
```

**목적**: 회귀 정보가 구간 분할을 대체할 수 있는지 검증

---

## 🔬 **실험 설계 철학**

### **핵심 검증 가설들**

1. **시간 분할 vs 회귀**: 구간을 많이 나누는 것 vs 시간적 변화를 회귀로 포착
2. **차원 vs 성능**: 고차원의 정보량 vs 과적합 위험
3. **현실적 패턴**: 3구간이 실제 클립 구조에 더 적합한가

### **설정별 예상 결과**

- **설정 1**: 정보량 최대, 과적합 위험
- **설정 2**: 균형점, 가장 좋을 것으로 예상
- **설정 3**: 회귀의 시간 정보 대체 효과 검증

---

## ✅ **최종 구현 방향**

### **개발 우선순위**

1. **특징 추출 파이프라인** 구현 (설정별 전환 가능)
2. **Config 기반 유연한 설계**
3. **3가지 설정 동시 실험** 진행
4. **피처 중요도 분석**으로 핵심 특성 파악

### **성공 지표**

- 분류 정확도
- 피처 중요도 분석
- 실제 편집자 검증과의 일치도

**이 문서를 바탕으로 구현을 시작하면 체계적인 실험이 가능할 것입니다.** 🚀